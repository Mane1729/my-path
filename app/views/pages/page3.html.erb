
<%= stylesheet_link_tag 'application' %>

<!DOCTYPE html>
<html>
<head>
  <meta name="viewport">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    
  <link href="/MyProject/Content/fontawesome-free-5.10.1-web/css/all.min.css" rel="stylesheet">

  <title>MyPath</title> 

  <link rel="stylesheet" type="text/css" href="my-path/app/assets/stylesheets/application.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <link rel="shortcut icon" type="image/x-icon" href="img/img1.png"/> <!-- website logo in tab -->
  <style>
  .question-item {
    margin-bottom: 10px;
    padding: 10px;
    # border: 1px solid #ccc;
  }
  .question-text {
    font-size: 17px;
    font-weight: bold;
    display: block;
  }
  .options-list {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  .options-list li {
    margin-bottom: 10px;
    
  }
  .options-list label {
    display: flex;
    align-items: center;
    cursor: pointer;
    justify-content: center;
    margin-top: 10px;


  }
  .options-list input[type="radio"] {
    margin-right: 10px;
  }
</style>
</head>
<body>




  <div class="module">
    <header>
      <h1>MyPath</h1> <!-- Name before button -->
      <button type="button" class="btn btn-danger btn-lg">Try for free !</button> <!-- Button link -->
    </header>
  </div>


  <div class="dis" id="overview">
    <h1 class="font-cond-b fg-text-d lts-md fs-300 fs-300-xs no-mg" contenteditable="false" id="termsofuse">MyPath OVERVIEW</h1><br> <!-- Name +  OVERVIEW -->
    <p class="fs-5">MyPath is an AI-powered career guidance application that helps users make informed career choices.</p> <!--  MyPath overview -->
  </div>  

    <div class="testimonials">
      <div class="inner">
      <h1>Questions</h1>

        <div class="border"></div>
        <div class="row">

        <div id="survey-questions-2"></div>

        <div id="survey-questions-2"></div>

        <div id="survey-questions-2"></div>

  <script>
  fetch("<%= asset_path('enums.json') %>")
  .then(response => response.json())
  .then(data => {
    const surveyQuestionsList = document.getElementById("survey-questions-2");
    const lastTwoQuestions = Object.entries(data).slice(-2);

    let startAddingQuestions = false;
    let questionIndex = 0;
    for (const [key, value] of Object.entries(data)) {
      if (key === "Would you consider yourself a hard worker or a smart worker?") {
        startAddingQuestions = true;
      }
      if (startAddingQuestions) {
        if (lastTwoQuestions.some(([questionKey, _]) => questionKey === key)) {
          addDropdownQuestion(key, value, surveyQuestionsList);
        } else {
          addRadioQuestion(key, value, surveyQuestionsList);
        }
        questionIndex++;
      }
    }
  });


  function addDropdownQuestion(questionText, options, container) {
    const questionItem = document.createElement("div");
    questionItem.classList.add("question-item");
  
    const questionLabel = document.createElement("label");
    questionLabel.classList.add("question-text");
    questionLabel.textContent = questionText;
    questionItem.appendChild(questionLabel);
  
    const selectElement = document.createElement("select");
    const chooseOption = document.createElement('option');
    chooseOption.id = `${questionText}-choose-option`;
    chooseOption.name = questionText;
    chooseOption.value = 'choose';
    chooseOption.checked = true;
    chooseOption.textContent = 'Choose';
    selectElement.appendChild(chooseOption);
  
    options.forEach(option => {
      const optionElement = document.createElement("option");
      optionElement.value = option;
      optionElement.textContent = option;
      selectElement.appendChild(optionElement);
    });
    questionItem.appendChild(selectElement);
  
    container.appendChild(questionItem);
  }
  
  
  
  function addRadioQuestion(questionText, options, container) {
    const questionItem = document.createElement("div");
    questionItem.classList.add("question-item");
  
    const questionLabel = document.createElement("label");
    questionLabel.classList.add("question-text");
    questionLabel.textContent = questionText;
    questionItem.appendChild(questionLabel);
  
    const optionsList = document.createElement("ul");
    optionsList.classList.add("options-list");
    options.forEach(option => {
      const listItem = document.createElement("li");
  
      const inputElement = document.createElement("input");
      inputElement.type = "radio";
      inputElement.name = questionText;
      inputElement.value = option;
  
      const labelElement = document.createElement("label");
      labelElement.appendChild(inputElement);
      labelElement.appendChild(document.createTextNode(option));
  
      listItem.appendChild(labelElement);
      optionsList.appendChild(listItem);
    });
    questionItem.appendChild(optionsList);
  
    container.appendChild(questionItem);
  }
  </script>
        <p><%= link_to "Result", result_path %></p>

        </div>
      </div>
    </div>


    <div class="contact-form-wrapper d-flex justify-content-center" style="background-color:orange !important;">
      <form action="#" class="contact-form">
      <h5 class="title">Contact us</h5>
      <div>
        <input type="text" class="form-control rounded border-white mb-3 form-input" id="name" placeholder="Name" required>
      </div>
      <div>
        <input type="email" class="form-control rounded border-white mb-3 form-input" placeholder="Email" required>
      </div>
      <div>
        <textarea id="message" class="form-control rounded border-white mb-3 form-text-area" rows="5" cols="30" placeholder="Message" required></textarea>
      </div>
      <div class="submit-button-wrapper">
        <input type="submit" value="Send">
      </div>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</body>
</html>